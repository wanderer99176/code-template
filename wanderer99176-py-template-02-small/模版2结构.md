好的，我们现在来构建您的 `wanderer99176-py-template-02-small` **小型脚本或简单工具**模板。

这个模板是“专业”的最小集合，完美适用于您想要打包并分发给他人使用的命令行工具或功能库。

下面是制作这个“小型工具版”模板所需的**完整“原材料”**，包括目录结构和核心配置文件内容。

-----

### **第一部分: `wanderer99176-py-template-02-small` 的模板结构**

这是您需要在 `code-template` 仓库中为这个新模板创建的目录结构。它非常精简，只包含最核心的部分。

```
.
└── wanderer99176-py-template-02-small/
    ├── cookiecutter.json
    └── {{ cookiecutter.project_slug }}/
        ├── src/
        │   └── {{ cookiecutter.package_name }}/
        │       ├── __init__.py
        │       └── main.py
        ├── tests/
        │   ├── __init__.py
        │   └── test_main.py
        ├── .gitignore
        ├── pyproject.toml
        └── README.md
```

-----

### **第二部分: `cookiecutter.json` 的内容**

这个配置文件相比之前的版本可以稍微简化，更聚焦于“工具”和“库”的场景。

将以下内容保存到 `wanderer99176-py-template-02-small/cookiecutter.json` 文件中。

```json
{
    "project_name": "My Simple Tool",
    "project_slug": "{{ cookiecutter.project_name.lower().replace(' ', '-') }}",
    "package_name": "{{ cookiecutter.project_slug.replace('-', '_') }}",
    "author_name": "Your Name",
    "author_email": "you@example.com",
    "project_short_description": "A simple and robust Python tool or library.",
    "python_version": "3.9",
    "first_version": "0.1.0",
    "license": ["MIT", "Apache-2.0", "GPL-3.0"],
    "github_username": "your_github_username"
}
```

-----

### **第三部分: `pyproject.toml` 的内容**

这是这个模板的灵魂。它被精简过，但仍然包含了创建高质量、可分发包所需的所有关键元素，特别是 `[project.scripts]`，这对于创建CLI工具至关重要。

将以下内容保存到 `wanderer99176-py-template-02-small/{{ cookiecutter.project_slug }}/pyproject.toml` 文件中。

```toml
# ==============================================================================
# Build system configuration
# ==============================================================================
[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

# ==============================================================================
# Project metadata (PEP 621)
# ==============================================================================
[project]
name = "{{ cookiecutter.project_name }}"
version = "{{ cookiecutter.first_version }}"
description = "{{ cookiecutter.project_short_description }}"
readme = "README.md"
authors = [
    { name = "{{ cookiecutter.author_name }}", email = "{{ cookiecutter.author_email }}" },
]
license = { text = "{{ cookiecutter.license }}" }
requires-python = ">={{ cookiecutter.python_version }}"
classifiers = [
    "Development Status :: 4 - Beta",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3",
]

# --- Production Dependencies (Example for a CLI tool) ---
dependencies = [
    "click"
]

[project.urls]
Repository = "https://github.com/{{ cookiecutter.github_username }}/{{ cookiecutter.project_slug }}"

# --- Optional Dependencies ---
[project.optional-dependencies]
dev = [
    "pytest",
    "ruff",       # Linter and formatter
    "pre-commit",
    "build",
    "twine",
]

# --- Command-line entry points (Crucial for CLI tools) ---
[project.scripts]
my-tool = "{{ cookiecutter.package_name }}.main:cli"

# ==============================================================================
# Tool Configurations
# ==============================================================================

# --- Setuptools configuration (for src-layout) ---
[tool.setuptools]
package-dir = {"" = "src"}
packages = ["{{ cookiecutter.package_name }}"]

# --- Ruff Linter and Formatter configuration ---
[tool.ruff]
line-length = 88
target-version = "py{{ cookiecutter.python_version.replace('.', '') }}"
[tool.ruff.lint]
select = ["E", "F", "W", "I"] # Basic but effective ruleset

# --- Pytest configuration ---
[tool.pytest.ini_options]
minversion = "6.0"
testpaths = ["tests"]
```

### **制作流程 (SOP)**

1.  **创建目录**:
    在您的 `code-template` 仓库中，创建新目录 `wanderer99176-py-template-02-small`。

2.  **创建和填充文件**:

      * 按照**第一部分**的结构图，在上述新目录中创建所有对应的文件和子目录。
      * 将**第二部分**和**第三部分**的内容，分别复制到对应的`cookiecutter.json`和`pyproject.toml`文件中。
      * 为其他文件（如`README.md`, `.gitignore`, `src/{{ cookiecutter.package_name }}/main.py`等）填充最基础的模板内容。

3.  **提交和推送**:
    将您对 `code-template` 仓库的所有更改 `git add`, `git commit`, `git push`。

现在，您的“小型工具版”模板也完成了。当您想开发一个新的CLI小工具时，就可以使用以下命令来快速启动：

```bash
cookiecutter gh:wanderer99176/code-template -d wanderer99176-py-template-02-small
```