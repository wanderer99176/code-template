# {{ cookiecutter.project_name }} Cookiecutter æ¨¡æ¿ä½¿ç”¨æŒ‡å—

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¼ä¸šçº§å…¨æ ˆ AI åº”ç”¨ Monorepo é¡¹ç›®æ¨¡æ¿ï¼ŒåŸºäº cookiecutter æ„å»ºã€‚

## ğŸ¯ æ¨¡æ¿ç‰¹ç‚¹

### âœ… å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½

1. **å®Œæ•´çš„é¡¹ç›®ç»“æ„**
   - âœ… Monorepo æ¶æ„ï¼ˆpnpm workspace + Turboï¼‰
   - âœ… æ ¹ç›®å½•é…ç½®æ–‡ä»¶ï¼ˆpackage.json, turbo.json, pyproject.tomlï¼‰
   - âœ… ä»£ç è§„èŒƒé…ç½®ï¼ˆpre-commit, ruff, prettier, eslintï¼‰

2. **GitHub å·¥ä½œæµ**
   - âœ… å®Œæ•´çš„ CI/CD æµæ°´çº¿
   - âœ… Dependabot è‡ªåŠ¨æ›´æ–°é…ç½®
   - âœ… Issue å’Œ PR æ¨¡æ¿

3. **é¡¹ç›®æ–‡æ¡£**
   - âœ… è¯¦ç»†çš„ç¯å¢ƒæ­å»ºæŒ‡å—
   - âœ… å®Œæ•´çš„éƒ¨ç½²æ‰‹å†Œ
   - âœ… æ¶æ„å†³ç­–è®°å½•ï¼ˆADRï¼‰

4. **åŸºç¡€è®¾æ–½é…ç½®**
   - âœ… Docker Compose å¼€å‘ç¯å¢ƒï¼ˆPostgreSQL, Redis, MinIOï¼‰
   - âœ… ç›‘æ§å¥—ä»¶é…ç½®ï¼ˆPrometheus, Grafana, Loki, Jaegerï¼‰
   - âœ… å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒ Docker Compose

5. **é¡¹ç›®è„šæœ¬**
   - âœ… è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬ï¼ˆsetup.shï¼‰
   - âœ… ç±»å‹ç”Ÿæˆè„šæœ¬ï¼ˆcodegen.shï¼‰
   - âœ… æ•°æ®åº“å¤‡ä»½è„šæœ¬ï¼ˆdb-backup.shï¼‰

6. **å…±äº«åŒ…**
   - âœ… shared-typesï¼ˆTypeScript ç±»å‹å®šä¹‰ï¼‰
   - âœ… eslint-config-customï¼ˆå…±äº« ESLint é…ç½®ï¼‰
   - âœ… tsconfig-customï¼ˆå…±äº« TypeScript é…ç½®ï¼‰

7. **Backend æœåŠ¡ï¼ˆFastAPIï¼‰**
   - âœ… å®Œæ•´çš„é¡¹ç›®ç»“æ„
   - âœ… æ ¸å¿ƒé…ç½®ï¼ˆconfig.py, logging.pyï¼‰
   - âœ… æ•°æ®åº“é›†æˆï¼ˆSQLModel + Alembicï¼‰
   - âœ… API ç«¯ç‚¹ç¤ºä¾‹ï¼ˆhealth, auth, usersï¼‰
   - âœ… Dockerfile å’Œä¾èµ–ç®¡ç†
   - âœ… è¯¦ç»†çš„ README

8. **Frontend æœåŠ¡ï¼ˆNuxtï¼‰**
   - âœ… å®Œæ•´çš„ Nuxt 3 é…ç½®
   - âœ… ç¤ºä¾‹é¡µé¢å’Œç»„ä»¶
   - âœ… Dockerfile
   - âœ… è¯¦ç»†çš„ README

9. **ML API æœåŠ¡ï¼ˆYOLOv8ï¼‰**
   - âœ… å®Œæ•´çš„ç›®æ ‡æ£€æµ‹å®ç°
   - âœ… FastAPI æ¥å£
   - âœ… ä¾èµ–é…ç½®

10. **Audio API æœåŠ¡ï¼ˆWhisperï¼‰**
    - âœ… å®Œæ•´çš„è¯­éŸ³è¯†åˆ«å®ç°
    - âœ… FastAPI æ¥å£
    - âœ… ä¾èµ–é…ç½®

11. **Scraper æœåŠ¡ï¼ˆScrapyï¼‰**
    - âœ… å®Œæ•´çš„ Scrapy é¡¹ç›®ç»“æ„
    - âœ… ç¤ºä¾‹çˆ¬è™«
    - âœ… é…ç½®æ–‡ä»¶

## ğŸ“¦ ä½¿ç”¨æ¨¡æ¿

### æ–¹æ³• 1: ç›´æ¥ä½¿ç”¨ cookiecutter

```bash
# 1. å®‰è£… cookiecutter
pipx install cookiecutter

# 2. ä»æœ¬åœ°æ¨¡æ¿åˆ›å»ºé¡¹ç›®
cookiecutter /path/to/py-starter-monorepo-ai

# 3. æŒ‰æç¤ºè¾“å…¥é¡¹ç›®ä¿¡æ¯
# project_name: My Awesome App
# project_slug: my-awesome-app
# author_name: Your Name
# author_email: your.email@example.com
# ...
```

### æ–¹æ³• 2: ä» GitHub åˆ›å»ºï¼ˆå¦‚æœå·²ä¸Šä¼ ï¼‰

```bash
cookiecutter gh:wanderer99176/code-template --directory py-starter-monorepo-ai
```

## ğŸš€ åˆ›å»ºé¡¹ç›®åçš„æ­¥éª¤

### 1. è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd <project_slug>
```

### 2. è¿è¡Œè‡ªåŠ¨åŒ–è®¾ç½®è„šæœ¬

```bash
# ä½¿ç”¨ Git Bashï¼ˆWindowsï¼‰æˆ– Terminalï¼ˆmacOS/Linuxï¼‰
bash scripts/setup.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… æ£€æŸ¥æ‰€æœ‰ä¾èµ–
- âœ… å®‰è£… Node.js ä¾èµ–
- âœ… è®¾ç½® Python è™šæ‹Ÿç¯å¢ƒ
- âœ… å®‰è£… pre-commit hooks
- âœ… å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶
- âœ… å¯åŠ¨åŸºç¡€è®¾æ–½æœåŠ¡ï¼ˆå¯é€‰ï¼‰
- âœ… è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆå¯é€‰ï¼‰

### 3. é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ä»¥ä¸‹æ–‡ä»¶ï¼š

```bash
# Backend
nano services/backend/.env

# Frontend
nano services/frontend/.env
```

### 4. å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
pnpm dev

# æˆ–åˆ†åˆ«å¯åŠ¨
pnpm dev:backend   # åç«¯: http://localhost:8000
pnpm dev:frontend  # å‰ç«¯: http://localhost:3000
```

## ğŸ“ éœ€è¦æ‰‹åŠ¨å®Œæˆçš„éƒ¨åˆ†

### Kubernetes é…ç½®ï¼ˆå¦‚éœ€è¦ï¼‰

éœ€è¦åˆ›å»ºï¼š
- `infra/kubernetes/helm-charts/backend/`
- `infra/kubernetes/helm-charts/frontend/`
- `infra/kubernetes/core-infra/`

### OpenTofu é…ç½®ï¼ˆå¦‚éœ€è¦ï¼‰

éœ€è¦åˆ›å»ºï¼š
- `infra/tofu/main.tf`
- `infra/tofu/modules/`
- `infra/tofu/environments/`

## ğŸ› ï¸ åç«¯å¼€å‘è¡¥å……

### æ·»åŠ æ•°æ®æ¨¡å‹

```python
# services/backend/src/<package_name>/models/user.py
from sqlmodel import Field, SQLModel
from datetime import datetime
from typing import Optional

class UserBase(SQLModel):
    email: str = Field(unique=True, index=True)
    full_name: Optional[str] = None
    is_active: bool = True

class User(UserBase, table=True):
    id: Optional[int] = Field(default=None, primary_key=True)
    hashed_password: str
    created_at: datetime = Field(default_factory=datetime.utcnow)
    updated_at: datetime = Field(default_factory=datetime.utcnow)

class UserCreate(UserBase):
    password: str

class UserRead(UserBase):
    id: int
    created_at: datetime
```

### æ·»åŠ ä¸šåŠ¡åŠŸèƒ½

1. åœ¨ `features/` ä¸‹åˆ›å»ºæ–°æ¨¡å—
2. å®šä¹‰ schemas, services, router
3. åœ¨ `api/v1/router.py` ä¸­æ³¨å†Œ

### è¿è¡Œæ•°æ®åº“è¿ç§»

```bash
cd services/backend

# åˆ›å»ºè¿ç§»
alembic revision --autogenerate -m "Add user model"

# åº”ç”¨è¿ç§»
alembic upgrade head
```

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

### å·²åˆ›å»ºçš„æ–‡ä»¶

- **æ ¹ç›®å½•é…ç½®**: 10+ ä¸ªæ–‡ä»¶
- **GitHub å·¥ä½œæµ**: 3 ä¸ªæ–‡ä»¶
- **æ–‡æ¡£**: 5+ ä¸ªæ–‡æ¡£æ–‡ä»¶
- **åŸºç¡€è®¾æ–½**: 10+ ä¸ªé…ç½®æ–‡ä»¶
- **å…±äº«åŒ…**: 3 ä¸ªåŒ…ï¼Œ15+ ä¸ªæ–‡ä»¶
- **Backend æœåŠ¡**: 20+ ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **Frontend æœåŠ¡**: 10+ ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **ML API æœåŠ¡**: 5+ ä¸ªæ–‡ä»¶
- **Audio API æœåŠ¡**: 5+ ä¸ªæ–‡ä»¶
- **Scraper æœåŠ¡**: 5+ ä¸ªæ–‡ä»¶
- **è„šæœ¬**: 3 ä¸ªè‡ªåŠ¨åŒ–è„šæœ¬

### ä»£ç è¡Œæ•°

- é…ç½®æ–‡ä»¶: ~2000 è¡Œ
- Python ä»£ç : ~2000 è¡Œ
- TypeScript ä»£ç : ~800 è¡Œ
- æ–‡æ¡£: ~3000 è¡Œ
- **æ€»è®¡: ~8000+ è¡Œä»£ç **

## ğŸ“ å­¦ä¹ èµ„æº

### æ¨èé˜…è¯»é¡ºåº

1. ğŸ“– [README.md]({{ cookiecutter.project_slug }}/README.md) - é¡¹ç›®æ¦‚è¿°
2. ğŸ“– [docs/setup-guide.md]({{ cookiecutter.project_slug }}/docs/setup-guide.md) - ç¯å¢ƒæ­å»º
3. ğŸ“– [docs/adr/001-monorepo-architecture.md]({{ cookiecutter.project_slug }}/docs/adr/001-monorepo-architecture.md) - æ¶æ„å†³ç­–
4. ğŸ“– [services/backend/README.md]({{ cookiecutter.project_slug }}/services/backend/README.md) - åç«¯å¼€å‘
5. ğŸ“– [docs/deployment.md]({{ cookiecutter.project_slug }}/docs/deployment.md) - éƒ¨ç½²æŒ‡å—

### ç›¸å…³æŠ€æœ¯æ–‡æ¡£

- **Monorepo**: [Turbo](https://turbo.build/), [pnpm workspace](https://pnpm.io/workspaces)
- **Backend**: [FastAPI](https://fastapi.tiangolo.com/), [SQLModel](https://sqlmodel.tiangolo.com/)
- **Frontend**: [Nuxt](https://nuxt.com/), [Vue 3](https://vuejs.org/)
- **DevOps**: [Docker](https://docs.docker.com/), [Kubernetes](https://kubernetes.io/docs/)

## ğŸ› å¸¸è§é—®é¢˜

### Q: Windows ä¸‹å¦‚ä½•è¿è¡Œ shell è„šæœ¬ï¼Ÿ

A: å®‰è£… Git Bash æˆ–ä½¿ç”¨ WSL2:

```bash
# ä½¿ç”¨ Git Bash
bash scripts/setup.sh

# æˆ–ä½¿ç”¨ WSL2
wsl bash scripts/setup.sh
```

### Q: å¦‚ä½•åªå¯ç”¨éƒ¨åˆ†åŠŸèƒ½ï¼Ÿ

A: åœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼Œcookiecutter ä¼šè¯¢é—®ï¼š
- `enable_ml_api`: æ˜¯å¦å¯ç”¨ ML API
- `enable_audio_api`: æ˜¯å¦å¯ç”¨ Audio API
- `enable_scraper`: æ˜¯å¦å¯ç”¨çˆ¬è™«
- `enable_monitoring`: æ˜¯å¦å¯ç”¨ç›‘æ§

é€‰æ‹© "no" å³å¯è·³è¿‡ä¸éœ€è¦çš„åŠŸèƒ½ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°çš„æœåŠ¡ï¼Ÿ

A: å‚è€ƒç°æœ‰æœåŠ¡çš„ç»“æ„ï¼š

1. åœ¨ `services/` ä¸‹åˆ›å»ºæ–°ç›®å½•
2. æ·»åŠ  `pyproject.toml` æˆ– `package.json`
3. æ·»åŠ  `Dockerfile`
4. åœ¨æ ¹ç›®å½•çš„ `docker-compose.yml` ä¸­æ·»åŠ é…ç½®
5. åœ¨ CI/CD ä¸­æ·»åŠ æ„å»ºæ­¥éª¤

### Q: æ•°æ®åº“è¿ç§»å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: 

```bash
# 1. æ£€æŸ¥æ•°æ®åº“è¿æ¥
docker-compose -f infra/docker-compose/dev.yml ps

# 2. åˆ é™¤è¿ç§»å†å²
alembic downgrade base

# 3. é‡æ–°åˆ›å»ºè¿ç§»
alembic revision --autogenerate -m "Initial"
alembic upgrade head
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿ä¸ºè¿™ä¸ªæ¨¡æ¿åšå‡ºè´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### è´¡çŒ®å»ºè®®

- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ› ä¿®å¤ Bug
- âœ¨ æ·»åŠ æ–°åŠŸèƒ½
- ğŸ¨ æ”¹è¿›ä»£ç è´¨é‡
- ğŸ§ª æ·»åŠ æµ‹è¯•

## ğŸ“„ è®¸å¯è¯

{{ cookiecutter.license }}

## ğŸ‘¨â€ğŸ’» ä½œè€…

**{{ cookiecutter.author_name }}**
- Email: {{ cookiecutter.author_email }}
- GitHub: [@{{ cookiecutter.github_username }}](https://github.com/{{ cookiecutter.github_username }})

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- FastAPI
- Nuxt
- Turbo
- pnpm
- SQLModel
- ä»¥åŠæ‰€æœ‰å…¶ä»–ä¾èµ–

---

**ç¥æ‚¨å¼€å‘æ„‰å¿«ï¼ğŸš€**

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ–‡æ¡£æˆ–æ Issueã€‚
